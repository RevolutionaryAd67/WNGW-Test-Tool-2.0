{% extends "base.html" %}

{% block extra_css %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/kommunikation.css') }}">
{% endblock %}

{% block content %}
<section class="communication">
    <div class="communication__box">
        <header class="communication__header">
            <div>
                <h2 class="communication__title">Signalliste hinterlegen</h2>
                <p class="communication__subtitle">Laden Sie die vollständige Signalliste als Excel-Datei hoch.</p>
            </div>
            <div class="communication__actions">
                <span class="communication__status" id="communication-status" aria-live="polite"></span>
                <button type="button" class="communication__save" id="communication-save">Speichern</button>
            </div>
        </header>

        <div class="communication__table-wrapper">
            <table class="communication__table">
                <thead>
                    <tr>
                        <th scope="col">Objekt</th>
                        <th scope="col">Hochladen</th>
                        <th scope="col">Datei</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Vollständige Signalliste</th>
                        <td>
                            <label class="file-input">
                                <input type="file" id="communication-file" accept=".xlsx">
                                <span id="communication-file-label">Excel-Datei auswählen</span>
                            </label>
                        </td>
                        <td><span id="communication-file-name">–</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="communication__note">
            Die Signalliste muss als .xlsx-Datei vorliegen und die Spalten
            „Datenpunkt / Meldetext“, „IOA 3“, „IOA 2“, „IOA 1“ und „IEC104- Typ“ enthalten.
        </p>
    </div>
</section>
{% endblock %}

{% block extra_js %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/kommunikation.js') }}" defer></script>
{% endblock %}
